<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Random Tab Hopper</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        body {
            background: #121212;
            color: #e6e6e6;
            font-family: Arial, sans-serif;
            width: 350px;
            padding: 12px;
        }

        h1 {
            text-align: center;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .row {
            margin-bottom: 10px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 4px;
        }

        input[type="number"] {
            width: 80px;
            padding: 4px;
            background: #1e1e1e;
            border: 1px solid #333;
            color: #fff;
            border-radius: 6px;
        }

        .btn {
            padding: 6px 14px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-green { background: #0a8a34; color: white; }
        .btn-yellow { background: #d48c00; color: white; }
        .btn-red { background: #b02020; color: white; }

        .btn-toggle {
            background: #222;
            color: #ccc;
            padding: 6px 14px;
            border-radius: 20px;
            border: 1px solid #444;
        }

        .btn-active {
            background: #198754 !important;
            color: white !important;
            border-color: #198754 !important;
        }

        .mode-btn {
            padding: 6px 10px;
            border-radius: 12px;
            border: none;
            margin-right: 6px;
        }

        .mode-active {
            background: #0a84ff !important;
            color: #fff !important;
        }

        .toolbar {
            margin-top: 12px;
            text-align: center;
        }
    </style>
</head>

<body>

<h1>Random Tab Hopper</h1>

<!-- TAB RANGE -->
<div class="row">
    <label>Tab start</label>
    <input type="number" id="tabStart" min="1" value="1">
</div>

<div class="row">
    <label>Tab end</label>
    <input type="number" id="tabEnd" min="1" value="5">
</div>

<div class="row" id="rangeNote" style="font-size:12px; opacity:0.7;">
    Using tab range (manual tab list disabled).
</div>

<!-- SECONDS -->
<div class="row">
    <label>Seconds per tab</label>
    <input type="number" id="secondsPerTab" min="1" value="2">
</div>

<!-- VARIANCE -->
<div class="row">
    <label>Timing Variance (Â±<span id="varianceLabel">0%</span>)</label>
    <button id="varianceToggle" class="btn btn-toggle">OFF</button>
    <input type="range" id="varianceSlider" min="0" max="50" value="0" style="width:100%; margin-top:6px;">
</div>

<!-- CUSTOM VARIANCE -->
<div class="row">
    <label>Custom Variance Range (seconds)</label>
    <button id="customVarianceToggle" class="btn btn-toggle">OFF</button>
    <div style="margin-top:6px;">
        <input type="range" id="customMin" min="0" max="10" value="1">
        <input type="range" id="customMax" min="1" max="10" value="2" style="margin-left:4px;">
    </div>
    <div id="customRangeInfo" style="font-size:12px; opacity:0.7; margin-top:4px;">
        Min: 1s    Max: 2s
    </div>
</div>

<!-- MANUAL TAB LIST -->
<div class="row">
    <label>Manual tab list</label>
    <button id="manualToggle" class="btn btn-toggle">OFF</button>
</div>

<div class="row">
    <label>Selection</label>
    <button id="chooseTabsBtn" class="btn btn-yellow">Choose</button>
    <button id="clearSelectionBtn" class="btn btn-red">Clear</button>
</div>

<div class="row" id="manualNote" style="font-size:12px; opacity:0.7;">
    Manual tab list disabled (using tab range).
</div>

<!-- TOTAL MINUTES -->
<div class="row">
    <label>Total minutes</label>
    <input type="number" id="totalMinutes" min="1" value="5">
</div>

<!-- MODE -->
<div class="row">
    <label>Mode</label>
    <button id="modeRandom" class="mode-btn mode-active">Random</button>
    <button id="modeSequential" class="mode-btn">Sequential</button>
</div>

<!-- STOP ON HUMAN INPUT -->
<div class="row">
    <label>Stop on human input</label>
    <input type="checkbox" id="humanStop">
</div>

<!-- CLEANUP SECTION (NEW) -->
<div style="text-align:center; margin:10px 0 12px;">
    <div style="font-size:13px; margin-bottom:6px; opacity:0.8;">Cleanup</div>
    <button id="closeLastRunBtn" class="btn btn-red" style="width:85%; font-size:14px;">
        Close last run tabs
    </button>
</div>

<!-- START / PAUSE / STOP -->
<div class="toolbar">
    <button id="startBtn" class="btn btn-green">Start</button>
    <button id="pauseBtn" class="btn btn-yellow">Pause</button>
    <button id="stopBtn" class="btn btn-red">Stop</button>
</div>

<div id="statusText" style="text-align:center; margin-top:8px; font-size:13px; color:#ff5a5a;">
    Stopped
</div>

<script src="popup.js"></script>

</body>
</html>
